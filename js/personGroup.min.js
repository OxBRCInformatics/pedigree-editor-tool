/*! pedigree-editor-tool - v1.3.0 - 2017-05-19
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

var PersonGroup=Class.create(Person,{initialize:function($super,x,y,id,properties){this._numPersons=1,this._comment="",this._type="PersonGroup",$super(x,y,id,properties)},_generateGraphics:function(x,y){return new PersonGroupVisuals(this,x,y)},isProband:function(){return!1},setNumPersons:function(numPersons){this._numPersons=numPersons,this.getGraphics().setNumPersons(numPersons)},getNumPersons:function(){return this._numPersons},setLifeStatus:function($super,newStatus){$super(newStatus),this.getGraphics().setNumPersons(this._numPersons)},getProperties:function($super){var info=$super();return info.numPersons=this.getNumPersons(),info},assignProperties:function($super,info){return!(!$super(info)||!info.numPersons)&&(this.getNumPersons()!=info.numPersons&&this.setNumPersons(info.numPersons),!0)},getSummary:function(){var disorders=[];this.getDisorders().forEach(function(disorder){var disorderName=editor.getDisorderLegend().getDisorder(disorder).getName();disorders.push({id:disorder,value:disorderName})});var cantChangeAdopted=this.isFetus()||editor.getGraph().hasToBeAdopted(this.getID());return{identifier:{value:this.getID()},comment:{value:this.getFirstName()},gender:{value:this.getGender()},external_ids:{value:this.getExternalID()},disorders:{value:disorders},disordersFullDetails:{value:this._disordersFullDetails},disorderType:{value:this.getDisorderType()},ethnicity:{value:this.getEthnicities()},adopted:{value:this.getAdopted(),inactive:cantChangeAdopted},comments:{value:this.getComments(),inactive:!1},state:{value:this.getLifeStatus()},numInGroup:{value:this.getNumPersons()},evaluatedGrp:{value:this.getEvaluated()}}}});