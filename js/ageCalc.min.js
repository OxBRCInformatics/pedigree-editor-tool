/*! pedigree-editor-tool - v1.3.0 - 2017-05-19
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

function getAge(birthDate,deathDate,onlyYears){if(birthDate.onlyDecadeAvailable()||deathDate&&deathDate.onlyDecadeAvailable()){if(onlyYears){var lastYearAlive=(new Date).getFullYear();null!=deathDate&&(lastYearAlive=deathDate.getYear(!0),deathDate.onlyDecadeAvailable()&&(lastYearAlive+=10));var age=lastYearAlive-(birthDate.onlyDecadeAvailable()?parseInt(birthDate.getDecade()):birthDate.getYear());return"before_"+10*Math.ceil(age/10)}return""}var now;now=null==deathDate?new Date:deathDate.toJSDate(),birthDate=birthDate.toJSDate();if((age=now.getTime()-birthDate.getTime())<=0){if(null!=deathDate)return"";if(age<0)return"not born yet"}var years=now.getFullYear()-birthDate.getFullYear()-(now.getDayOfYear()<birthDate.getDayOfYear()?1:0);if(onlyYears)return years;var agestr="",months=Math.floor(age/26352e5);if(months<12){var days=Math.floor(age/864e5);agestr=days<21?1==days?days+" day":days+" days":days<60?Math.floor(age/6048e5)+" wk":months+" mo"}else agestr=years+" y";return agestr}var AgeCalc={};AgeCalc.getAge=getAge;