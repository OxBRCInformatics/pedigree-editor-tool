/*! pedigree-editor-tool - v1.3.0 - 2017-05-19
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

var AbstractPerson=Class.create(AbstractNode,{initialize:function($super,x,y,gender,id){this._gender=this.parseGender(gender),this._adoptedStatus="",!this._type&&(this._type="AbstractPerson"),$super(x,y,id)},_generateGraphics:function(x,y){return new AbstractPersonVisuals(this,x,y)},parseGender:function(gender){var genderUpperCase=gender.toUpperCase();return"M"==genderUpperCase||"F"==genderUpperCase||"O"==genderUpperCase?genderUpperCase:"U"},getGender:function(){return this._gender},isPersonGroup:function(){return"PersonGroup"==this._type},setGender:function(gender){var gender=this.parseGender(gender);this._gender!=gender&&(this._gender=gender,this.getGraphics().setGenderGraphics(),this.getGraphics().getHoverBox().regenerateHandles(),this.getGraphics().getHoverBox().regenerateButtons())},setSex:function(sex){this.setGender(sex)},setAdopted:function(adoptedStatus){""!=adoptedStatus&&"adoptedIn"!=adoptedStatus&&"adoptedOut"!=adoptedStatus&&(adoptedStatus=""),this._adoptedStatus=adoptedStatus,this.getGraphics().drawAdoptedShape(),this.getGraphics().getHoverBox().regenerateHandles()},getAdopted:function(){return this._adoptedStatus},getProperties:function($super){var info=$super();return info.gender=this.getGender(),info},assignProperties:function($super,properties){return!!$super(properties)&&(!!properties.gender&&(this.getGender()!=this.parseGender(properties.gender)&&this.setGender(properties.gender),!0))}});