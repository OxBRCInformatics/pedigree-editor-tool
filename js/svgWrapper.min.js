/*! pedigree-editor-tool - v1.3.1 - 2017-05-22
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

var SVGWrapper=Class.create({initialize:function(svgText,boundingBox,scale){this._svgText=svgText,this._bbox={x:boundingBox.x,y:boundingBox.y,height:boundingBox.height,width:boundingBox.width},this._scale=scale||1},getSVGText:function(){return this._svgText},getBBox:function(){return Helpers.cloneObject(this._bbox)},getCopy:function(){return new SVGWrapper(this._svgText,this._bbox,this._scale)},setNoAspectRatioPreservation:function(){return this._svgText=this._svgText.replace(/preserveAspectRatio="xMinYMin"/,'preserveAspectRatio="none"'),this},move:function(xShift,yShift){this._bbox.x+=xShift,this._bbox.y+=yShift},scale:function(scaleFactor){return this._scale=scaleFactor,this._bbox.width=Math.ceil(this._bbox.width*scaleFactor),this._bbox.height=Math.ceil(this._bbox.height*scaleFactor),this._svgText=this._svgText.replace(/(<svg [^<>]+) width=["-]?\d+"? height=["-]?\d+"?/g,'$1 width="'+this._bbox.width+'" height="'+this._bbox.height+'"'),this},setViewBox:function(xOffset,yOffset,xWidth,yWidth){return xWidth=Math.ceil(xWidth),yWidth=Math.ceil(yWidth),this._svgText=this._svgText.replace(/(<svg[^<>]+) viewBox="[^<>"]*"/g,'$1 viewBox="'+Math.floor(this._bbox.x+xOffset/this._scale)+" "+Math.floor(this._bbox.y+yOffset/this._scale)+" "+xWidth/this._scale+" "+yWidth/this._scale+'"'),this._svgText=this._svgText.replace(/(<svg [^<>]+) width=["-]?\d+"? height=["-]?\d+"?/g,'$1 width="'+xWidth+'" height="'+yWidth+'"'),this},addCenteringCSS:function(){return this._svgText=this._svgText.replace(/(<svg [^<>]+) style="/,'$1 style="display:block; margin: auto; '),this}});