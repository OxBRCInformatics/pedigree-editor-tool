/*! pedigree-editor-tool - v1.3.0-SNAPSHOT - 2017-05-19
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

var PersonGroupVisuals=Class.create(PersonVisuals,{initialize:function($super,node,x,y){$super(node,x,y),this.setNumPersons(node.getNumPersons())},generateHoverbox:function(x,y){return editor.isReadOnlyMode()?new ReadOnlyHoverbox(this.getNode(),x,y,this.getGenderGraphics()):new PersonGroupHoverbox(this.getNode(),x,y,this.getGenderGraphics())},getAllGraphics:function($super){return $super().push(this._label)},setNumPersons:function(numPersons){this._label&&this._label.remove();var text=numPersons&&numPersons>1?String(numPersons):"n",y="aborted"==this.getNode().getLifeStatus()||"miscarriage"==this.getNode().getLifeStatus()?this.getY()-12:this.getY(),x="aborted"==this.getNode().getLifeStatus()?this.getX()+8:this.getX();this._label=editor.getPaper().text(x,y,text).attr(PedigreeEditorParameters.attributes.descendantGroupLabel),this._label.node.setAttribute("class","no-mouse-interaction")}});