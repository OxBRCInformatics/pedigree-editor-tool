/*! pedigree-editor-tool - v1.3.1 - 2017-05-22
* https://github.com/OxBRCInformatics/pedigree-editor-tool#readme
* Copyright (c) 2017  Licensed AGPL-3.0 */

function showsubmenu(a){if("span"==a.lastChild.tagName.toLowerCase()){window.hidetimer&&(window.hideelement==a.lastChild?(clearTimeout(window.hidetimer),window.hidetimer=null,window.hideelement=null):doHide());var b=Element.positionedOffset(a);a.lastChild.style.left=b[0]-10+"px",a.lastChild.style.top=b[1]+a.offsetHeight+"px",a.lastChild.className=a.lastChild.className.replace("hidden","visible")}}function hidesubmenu(a){"span"==a.lastChild.tagName.toLowerCase()&&(window.hideelement=a.lastChild,window.hidetimer=setTimeout(doHide,100))}function doHide(){window.hideelement.className=window.hideelement.className.replace("visible","hidden"),clearTimeout(window.hidetimer),window.hidetimer=null,window.hideelement=null}function toggleClass(b,a){eltHasClass(b,a)?rmClass(b,a):b.className+=" "+a}function addClass(b,a){eltHasClass(b,a)||(b.className+=" "+a)}function eltHasClass(b,a){return!!b.className&&new RegExp("\\b"+a+"\\b").test(b.className)}function rmClass(b,a){b.className=b.className.replace(new RegExp("\\s*\\b"+a+"\\b"),"")}function openURL(a){win=open(a,"win","titlebar=0,width=990,height=500,resizable,scrollbars"),win&&win.focus()}function openHelp(){win=open("http://platform.xwiki.org/xwiki/bin/view/Main/XWikiSyntax?xpage=print","XWikiSyntax","titlebar=0,width=750,height=480,resizable,scrollbars"),win&&win.focus()}function updateName(a,d,c){var b=a.value;return b=noaccent(b),0!=c&&(b=b.replace(/class$/gi,"")),null==d?a.value=b:d.value=b,""!=b}function noaccent(a){return temp=a.replace(/[\u00c0\u00c1\u00c2\u00c3\u00c4\u00c5\u0100\u0102\u0104\u01cd\u01de\u01e0\u01fa\u0200\u0202\u0226]/g,"A"),temp=temp.replace(/[\u00e0\u00e1\u00e2\u00e3\u00e4\u00e5\u0101\u0103\u0105\u01ce\u01df\u01e1\u01fb\u0201\u0203\u0227]/g,"a"),temp=temp.replace(/[\u00c6\u01e2\u01fc]/g,"AE"),temp=temp.replace(/[\u00e6\u01e3\u01fd]/g,"ae"),temp=temp.replace(/[\u008c\u0152]/g,"OE"),temp=temp.replace(/[\u009c\u0153]/g,"oe"),temp=temp.replace(/[\u00c7\u0106\u0108\u010a\u010c]/g,"C"),temp=temp.replace(/[\u00e7\u0107\u0109\u010b\u010d]/g,"c"),temp=temp.replace(/[\u00d0\u010e\u0110]/g,"D"),temp=temp.replace(/[\u00f0\u010f\u0111]/g,"d"),temp=temp.replace(/[\u00c8\u00c9\u00ca\u00cb\u0112\u0114\u0116\u0118\u011a\u0204\u0206\u0228]/g,"E"),temp=temp.replace(/[\u00e8\u00e9\u00ea\u00eb\u0113\u0115\u0117\u0119\u011b\u01dd\u0205\u0207\u0229]/g,"e"),temp=temp.replace(/[\u011c\u011e\u0120\u0122\u01e4\u01e6\u01f4]/g,"G"),temp=temp.replace(/[\u011d\u011f\u0121\u0123\u01e5\u01e7\u01f5]/g,"g"),temp=temp.replace(/[\u0124\u0126\u021e]/g,"H"),temp=temp.replace(/[\u0125\u0127\u021f]/g,"h"),temp=temp.replace(/[\u00cc\u00cd\u00ce\u00cf\u0128\u012a\u012c\u012e\u0130\u01cf\u0208\u020a]/g,"I"),temp=temp.replace(/[\u00ec\u00ed\u00ee\u00ef\u0129\u012b\u012d\u012f\u0131\u01d0\u0209\u020b]/g,"i"),temp=temp.replace(/[\u0132]/g,"IJ"),temp=temp.replace(/[\u0133]/g,"ij"),temp=temp.replace(/[\u0134]/g,"J"),temp=temp.replace(/[\u0135]/g,"j"),temp=temp.replace(/[\u0136\u01e8]/g,"K"),temp=temp.replace(/[\u0137\u0138\u01e9]/g,"k"),temp=temp.replace(/[\u0139\u013b\u013d\u013f\u0141]/g,"L"),temp=temp.replace(/[\u013a\u013c\u013e\u0140\u0142\u0234]/g,"l"),temp=temp.replace(/[\u00d1\u0143\u0145\u0147\u014a\u01f8]/g,"N"),temp=temp.replace(/[\u00f1\u0144\u0146\u0148\u0149\u014b\u01f9\u0235]/g,"n"),temp=temp.replace(/[\u00d2\u00d3\u00d4\u00d5\u00d6\u00d8\u014c\u014e\u0150\u01d1\u01ea\u01ec\u01fe\u020c\u020e\u022a\u022c\u022e\u0230]/g,"O"),temp=temp.replace(/[\u00f2\u00f3\u00f4\u00f5\u00f6\u00f8\u014d\u014f\u0151\u01d2\u01eb\u01ed\u01ff\u020d\u020f\u022b\u022d\u022f\u0231]/g,"o"),temp=temp.replace(/[\u0156\u0158\u0210\u0212]/g,"R"),temp=temp.replace(/[\u0157\u0159\u0211\u0213]/g,"r"),temp=temp.replace(/[\u015a\u015c\u015e\u0160\u0218]/g,"S"),temp=temp.replace(/[\u015b\u015d\u015f\u0161\u0219]/g,"s"),temp=temp.replace(/[\u00de\u0162\u0164\u0166\u021a]/g,"T"),temp=temp.replace(/[\u00fe\u0163\u0165\u0167\u021b\u0236]/g,"t"),temp=temp.replace(/[\u00d9\u00da\u00db\u00dc\u0168\u016a\u016c\u016e\u0170\u0172\u01d3\u01d5\u01d7\u01d9\u01db\u0214\u0216]/g,"U"),temp=temp.replace(/[\u00f9\u00fa\u00fb\u00fc\u0169\u016b\u016d\u016f\u0171\u0173\u01d4\u01d6\u01d8\u01da\u01dc\u0215\u0217]/g,"u"),temp=temp.replace(/[\u0174]/g,"W"),temp=temp.replace(/[\u0175]/g,"w"),temp=temp.replace(/[\u00dd\u0176\u0178\u0232]/g,"Y"),temp=temp.replace(/[\u00fd\u00ff\u0177\u0233]/g,"y"),temp=temp.replace(/[\u0179\u017b\u017d]/g,"Z"),temp=temp.replace(/[\u017a\u017c\u017e]/g,"z"),temp=temp.replace(/[\u00df]/g,"SS"),temp=temp.replace(/[^a-zA-Z0-9_]/g,""),temp}function prepareName(b){var d=b.register_first_name.value,a=b.register_last_name.value,c=b.xwikiname;""!=d&&(d=d.substring(0,1).toUpperCase()+d.substring(1)).replace(/ /g,""),""!=a&&(a=a.substring(0,1).toUpperCase()+a.substring(1)).replace(/ /g,""),""==c.value&&(c.value=noaccent(d+a))}function checkAdvancedContent(a){return result=!1,!document.forms.edit||(data=document.forms.edit.content.value,myRE=new RegExp("</?(html|body|img|a|i|b|embed|script|form|input|textarea|object|font|li|ul|ol|table|center|hr|br|p) ?([^>]*)>","ig"),results=data.match(myRE),results&&results.length>0&&(result=!0),myRE2=new RegExp("(#(set|include|if|end|for)|#(#) Advanced content|public class|/* Advanced content */)","ig"),results=data.match(myRE2),results&&results.length>0&&(result=!0),1!=result||confirm(a))}function BrowserDetect(){var b=navigator.userAgent.toLowerCase();this.isGecko=-1!=b.indexOf("gecko")&&-1==b.indexOf("safari"),this.isAppleWebKit=-1!=b.indexOf("applewebkit"),this.isKonqueror=-1!=b.indexOf("konqueror"),this.isSafari=-1!=b.indexOf("safari"),this.isOmniweb=-1!=b.indexOf("omniweb"),this.isOpera=-1!=b.indexOf("opera"),this.isIcab=-1!=b.indexOf("icab"),this.isAol=-1!=b.indexOf("aol"),this.isIE=-1!=b.indexOf("msie")&&!this.isOpera&&-1==b.indexOf("webtv"),this.isMozilla=this.isGecko&&b.indexOf("gecko/")+14==b.length,this.isFirefox=-1!=b.indexOf("firefox/")||-1!=b.indexOf("firebird/"),this.isNS=this.isGecko?-1!=b.indexOf("netscape"):-1!=b.indexOf("mozilla")&&!this.isOpera&&!this.isSafari&&-1==b.indexOf("spoofer")&&-1==b.indexOf("compatible")&&-1==b.indexOf("webtv")&&-1==b.indexOf("hotjava"),this.isIECompatible=-1!=b.indexOf("msie")&&!this.isIE,this.isNSCompatible=-1!=b.indexOf("mozilla")&&!this.isNS&&!this.isMozilla,this.geckoVersion=this.isGecko?b.substring(b.lastIndexOf("gecko/")+6,b.lastIndexOf("gecko/")+14):-1,this.equivalentMozilla=this.isGecko?parseFloat(b.substring(b.indexOf("rv:")+3)):-1,this.appleWebKitVersion=this.isAppleWebKit?parseFloat(b.substring(b.indexOf("applewebkit/")+12)):-1,this.versionMinor=parseFloat(navigator.appVersion),this.isGecko&&!this.isMozilla?this.versionMinor=parseFloat(b.substring(b.indexOf("/",b.indexOf("gecko/")+6)+1)):this.isMozilla?this.versionMinor=parseFloat(b.substring(b.indexOf("rv:")+3)):this.isIE&&this.versionMinor>=4?this.versionMinor=parseFloat(b.substring(b.indexOf("msie ")+5)):this.isKonqueror?this.versionMinor=parseFloat(b.substring(b.indexOf("konqueror/")+10)):this.isSafari?this.versionMinor=parseFloat(b.substring(b.lastIndexOf("safari/")+7)):this.isOmniweb?this.versionMinor=parseFloat(b.substring(b.lastIndexOf("omniweb/")+8)):this.isOpera?this.versionMinor=parseFloat(b.substring(b.indexOf("opera")+6)):this.isIcab&&(this.versionMinor=parseFloat(b.substring(b.indexOf("icab")+5))),this.versionMajor=parseInt(this.versionMinor),this.isDOM1=document.getElementById,this.isDOM2Event=document.addEventListener&&document.removeEventListener,this.mode=document.compatMode?document.compatMode:"BackCompat",this.isWin=-1!=b.indexOf("win"),this.isWin32=this.isWin&&(-1!=b.indexOf("95")||-1!=b.indexOf("98")||-1!=b.indexOf("nt")||-1!=b.indexOf("win32")||-1!=b.indexOf("32bit")||-1!=b.indexOf("xp")),this.isMac=-1!=b.indexOf("mac"),this.isUnix=-1!=b.indexOf("unix")||-1!=b.indexOf("sunos")||-1!=b.indexOf("bsd")||-1!=b.indexOf("x11"),this.isLinux=-1!=b.indexOf("linux"),this.isNS4x=this.isNS&&4==this.versionMajor,this.isNS40x=this.isNS4x&&this.versionMinor<4.5,this.isNS47x=this.isNS4x&&this.versionMinor>=4.7,this.isNS4up=this.isNS&&this.versionMinor>=4,this.isNS6x=this.isNS&&6==this.versionMajor,this.isNS6up=this.isNS&&this.versionMajor>=6,this.isNS7x=this.isNS&&7==this.versionMajor,this.isNS7up=this.isNS&&this.versionMajor>=7,this.isIE4x=this.isIE&&4==this.versionMajor,this.isIE4up=this.isIE&&this.versionMajor>=4,this.isIE5x=this.isIE&&5==this.versionMajor,this.isIE55=this.isIE&&5.5==this.versionMinor,this.isIE5up=this.isIE&&this.versionMajor>=5,this.isIE6x=this.isIE&&6==this.versionMajor,this.isIE6up=this.isIE&&this.versionMajor>=6,this.isIE4xMac=this.isIE4x&&this.isMac;var a=/trident\/(\d+)/.exec(b);this.isIE11up=a&&parseInt(a[1])>=7}var XWiki=function(a){return a.widgets=a.widgets||{},Object.extend(a,{constants:{anchorSeparator:"#",docextraCommentsAnchor:"Comments",docextraAttachmentsAnchor:"Attachments",docextraHistoryAnchor:"History",docextraInformationAnchor:"Information"},resource:{get:function(e,h){for(var d="",j=["Attachments"],g=[a.EntityType.DOCUMENT],f=0;f<j.length;f++)if(e.endsWith(a.constants.anchorSeparator+j[f])){d=j[f],e=e.substr(0,e.length-(d.length+1)),h=h||g[f];break}var b;if(h)b=a.Model.resolve(e,h);else if(!(b=a.Model.resolve(e,a.EntityType.ATTACHMENT)).parent&&!(b=a.Model.resolve(e,a.EntityType.DOCUMENT)).parent){var c=a.Model.resolve(e,a.EntityType.SPACE);c.parent&&(b=c)}return this.fromEntityReference(b,d)},fromEntityReference:function(e,g){var l=e.extractReference(a.EntityType.WIKI);l=l&&l.name||a.currentWiki;var c=e.extractReference(a.EntityType.SPACE);c=c&&c.name||a.currentSpace;var j=e.extractReference(a.EntityType.DOCUMENT);j=j&&j.name||a.currentPage;var h=e.extractReference(a.EntityType.ATTACHMENT);h=h&&h.name||"";var f=new a.DocumentReference(l,c,j),d=a.Model.serialize(f.relativeTo(new a.WikiReference(l)));return{wiki:l,space:c,prefixedSpace:a.Model.serialize(f.parent),fullName:d,prefixedFullName:a.Model.serialize(f),name:j,attachment:h,anchor:g}},asEntityReference:function(e){for(var b,d=[e.wiki,e.space,e.name,e.attachment],c=0;c<d.length;c++)d[c]&&(b=new a.EntityReference(d[c],c,b));return b},serialize:function(c){var b=a.Model.serialize(this.asEntityReference(c));return c.anchor&&(b.length>0&&(b+=a.constants.anchorSeparator),b+=c.anchor),b}},getResource:function(b){return this.resource.get(b)},displayDocExtra:function(b,c,e){var d=function(f){var g=document.getElementById(f+"tab"),h=document.getElementById(f+"pane");null!=window.activeDocExtraTab&&(window.activeDocExtraTab.className="",window.activeDocExtraPane.className="hidden"),window.activeDocExtraTab=g,window.activeDocExtraPane=h,window.activeDocExtraTab.className="active",window.activeDocExtraPane.className="",g.blur(),document.fire("xwiki:docextra:activated",{id:f})};-1!=$(b+"pane").className.indexOf("empty")?(null!=window.activeDocExtraPane&&(window.activeDocExtraPane.className="invisible"),$("docextrapanes").className="loading",new Ajax.Updater(b+"pane",window.docgeturl+"?xpage=xpart&vm="+c,{method:"post",evalScripts:!0,onComplete:function(f){$("docextrapanes").className="",document.fire("xwiki:docextra:loaded",{id:b,element:$(b+"pane")}),d(b),e&&($(b+"anchor").id=b,location.href="#"+b,$(b).id=b+"anchor")}})):(d(b),e&&($(b+"anchor").id=b,location.href="#"+b,$(b).id=b+"anchor"))},makeRenderingErrorsExpandable:function(b){$(b||"body").select(".xwikirenderingerror").each(function(c){""!==c.next().innerHTML&&c.next().hasClassName("xwikirenderingerrordescription")&&(c.style.cursor="pointer",c.title="Read technical information related to this error",Event.observe(c,"click",function(d){d.element().next().toggleClassName("hidden")}))})},fixLinksTargetAttribute:function(g){for(var f=$(g||"body").select("a[rel]"),e=0;e<f.length;e++){var d=f[e];if(!d.up(".xRichTextEditor")&&(d.getAttribute("href")&&d.getAttribute("rel")))for(var b=d.getAttribute("rel").split(" "),c=0;c<b.length;c++){if("_"==b[c].charAt(0)){d.target=b[c].substring(1);break}if("external"==b[c]){d.target="_blank";break}}}},insertSectionEditLinks:function(b){},insertCreatePageFromTemplateModalBoxes:function(b){if("xwiki/1.0"!=a.docsyntax&&"view"==a.contextaction&&a.hasEdit&&a.widgets.ModalPopup){a.widgets.CreatePagePopup=Class.create(a.widgets.ModalPopup,{initialize:function($super,f){var e=new Element("div",{class:"modal-popup"});e.insert(f.content),$super(e,{show:{method:this.showDialog,keys:[]},close:{method:this.closeDialog,keys:["Esc"]}},{displayCloseButton:!0,verticalPosition:"center",backgroundColor:"#FFF"}),this.showDialog(),this.setClass("createpage-modal-popup")}});for(var d=$(b||"body").select("span.wikicreatelink"),c=0;c<d.length;c++)d[c].down("a").observe("click",function(e){new Ajax.Request(e.findElement("a").href.replace(/#.*$/,""),{method:"get",parameters:{xpage:"createinline",ajax:1},onSuccess:function(g){var f=g.getHeader("redirect");f?window.location=f:new a.widgets.CreatePagePopup({content:g.responseText})},onFailure:function(){new a.widgets.Notification("An error occurred, please refresh the page and try again","error",{inactive:!0}).show()}}),e.stop()})}},watchlist:{actionsMap:{tmWatchDocument:"adddocument",tmUnwatchDocument:"removedocument",tmWatchSpace:"addspace",tmUnwatchSpace:"removespace",tmWatchWiki:"addwiki",tmUnwatchWiki:"removewiki"},flowMap:{tmWatchDocument:"tmUnwatchDocument",tmUnwatchDocument:"tmWatchDocument",tmWatchSpace:"tmUnwatchSpace",tmUnwatchSpace:"tmWatchSpace",tmWatchWiki:"tmUnwatchWiki",tmUnwatchWiki:"tmWatchWiki"},executeAction:function(b){var d=window.docgeturl+"?xpage=watch&do="+this.actionsMap[b.id];new Ajax.Request(d,{method:"get",onComplete:function(){"A"==b.nodeName?(b.up().toggleClassName("hidden"),$(a.watchlist.flowMap[b.id]).up().toggleClassName("hidden")):(b.toggleClassName("hidden"),$(a.watchlist.flowMap[b.id]).toggleClassName("hidden"))}})},initialize:function(b){b=$(b||"body");for(button in a.watchlist.actionsMap){var d=b.down("#"+button);if(d){"A"!=d.nodeName&&(d=$(button).down("A")),d.stopObserving("click"),d.observe("click",function(f){Event.stop(f);for(var e=f.element();""==e.id;)e=e.up();a.watchlist.executeAction(e)})}}}},cookies:{create:function(d,e,f){if(f){var c=new Date;c.setTime(c.getTime()+24*f*60*60*1e3);b="; expires="+c.toGMTString()}else var b="";document.cookie=d+"="+e+b+"; path=/"},read:function(d){for(var f=d+"=",b=document.cookie.split(";"),e=0;e<b.length;e++){for(var g=b[e];" "==g.charAt(0);)g=g.substring(1,g.length);if(0==g.indexOf(f))return g.substring(f.length,g.length)}return null},erase:function(b){a.cookies.create(b,"",-1)}},togglePanelVisibility:function(b){(b=$(b)).toggleClassName("collapsed")},registerPanelToggle:function(b){$(b||"body").select(".panel .xwikipaneltitle").each(function(c){c.observe("click",this.togglePanelVisibility.bind(this,c.up(".panel")))}.bind(this))},extractFileName:function(c){if((c=$(c)).files&&c.files.length>0)return c.files[0].name;if("C:\\fakepath\\"==c.value.substr(0,12))return c.value.substr(12);var b=c.value.lastIndexOf("/");return b>=0?c.value.substr(b+1):(b=c.value.lastIndexOf("\\"),b>=0?c.value.substr(b+1):c.value)},initialize:function(){if(void 0===this.isInitialized||0==this.isInitialized){if(void 0===a.lastScriptLoaded)return void(a.failedInit=!0);this.isInitialized=!0,document.fire("xwiki:dom:loading"),document.observe("xwiki:dom:updated",function(b){b.memo.elements.each(this._addBehaviour.bind(this))}.bindAsEventListener(this)),this._addBehaviour(),this.domIsLoaded=!0,document.fire("xwiki:dom:loaded")}},_addBehaviour:function(b){b=b||$("body"),this.makeRenderingErrorsExpandable(b),this.fixLinksTargetAttribute(b),this.insertSectionEditLinks(b),this.insertCreatePageFromTemplateModalBoxes(b),this.watchlist.initialize(b),this.registerPanelToggle(b)}}),a}(XWiki||{});document.observe("dom:loaded",XWiki.initialize.bind(XWiki)),shortcut={all_shortcuts:{},add:function(b,h,d){var g={type:"keydown",propagate:!1,disable_in_input:!1,target:document,keycode:!1};if(d)for(var a in g)void 0===d[a]&&(d[a]=g[a]);else d=g;var f=d.target;"string"==typeof d.target&&(f=document.getElementById(d.target));b=b.toLowerCase();var e=function(p){if(p=p||window.event,d.disable_in_input){var m;if(p.target?m=p.target:p.srcElement&&(m=p.srcElement),3==m.nodeType&&(m=m.parentNode),"INPUT"==m.tagName||"TEXTAREA"==m.tagName||"SELECT"==m.tagName)return}var j=0;p.keyCode?j=p.keyCode:p.which&&(j=p.which);var o=String.fromCharCode(j).toLowerCase();188==j&&(o=","),190==j&&(o=".");var t=b.split("+"),s=0,q={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"},n={esc:27,escape:27,tab:9,space:32,return:13,enter:13,backspace:8,scrolllock:145,scroll_lock:145,scroll:145,capslock:20,caps_lock:20,caps:20,numlock:144,num_lock:144,num:144,pause:19,break:19,insert:45,home:36,delete:46,end:35,pageup:33,page_up:33,pu:33,pagedown:34,page_down:34,pd:34,left:37,up:38,right:39,down:40,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},r={shift:{wanted:!1,pressed:!1},ctrl:{wanted:!1,pressed:!1},alt:{wanted:!1,pressed:!1},meta:{wanted:!1,pressed:!1}};p.ctrlKey&&(r.ctrl.pressed=!0),p.shiftKey&&(r.shift.pressed=!0),p.altKey&&(r.alt.pressed=!0),p.metaKey&&(r.meta.pressed=!0);for(var l=0;k=t[l],l<t.length;l++)"ctrl"==k||"control"==k?(s++,r.ctrl.wanted=!0):"shift"==k?(s++,r.shift.wanted=!0):"alt"==k?(s++,r.alt.wanted=!0):"meta"==k?(s++,r.meta.wanted=!0):k.length>1?n[k]==j&&s++:d.keycode?d.keycode==j&&s++:o==k?s++:q[o]&&p.shiftKey&&(o=q[o])==k&&s++;if(s==t.length&&r.ctrl.pressed==r.ctrl.wanted&&r.shift.pressed==r.shift.wanted&&r.alt.pressed==r.alt.wanted&&r.meta.pressed==r.meta.wanted&&(h(p),!d.propagate))return p.cancelBubble=!0,p.returnValue=!1,document.all&&!window.opera&&window.XMLHttpRequest&&(p.keyCode=0),p.stopPropagation&&(p.stopPropagation(),p.preventDefault()),!1};this.all_shortcuts[b]={callback:e,target:f,event:d.type},f.addEventListener?f.addEventListener(d.type,e,!1):f.attachEvent?f.attachEvent("on"+d.type,e):f["on"+d.type]=e},remove:function(a){a=a.toLowerCase();var d=this.all_shortcuts[a];if(delete this.all_shortcuts[a],d){var b=d.event,c=d.target,e=d.callback;c.detachEvent?c.detachEvent("on"+b,e):c.removeEventListener?c.removeEventListener(b,e,!1):c["on"+b]=!1}}};var browser=new BrowserDetect;XWiki.Document=Class.create({initialize:function(c,b,a){this.page=c||XWiki.Document.currentPage,this.space=b||XWiki.Document.currentSpace,this.wiki=a||XWiki.Document.currentWiki},getURL:function(c,d,b){c=c||"view";var a=XWiki.Document.URLTemplate;return a=a.replace("__space__",encodeURIComponent(this.space)),a=a.replace("__page__","WebHome"==this.page?"":encodeURIComponent(this.page)),a=a.replace("__action__/","view"==c?"":encodeURIComponent(c)+"/"),d&&(a+="?"+d),b&&(a+="#"+b),a},getRestURL:function(a,c){a=a||"";var b=XWiki.Document.RestURLTemplate;return b=b.replace("__wiki__",this.wiki),b=b.replace("__space__",this.space),b=b.replace("__page__",this.page),a&&(b+="/"+a),c&&(b+="?"+c),b}});var htmlElement=$(document.documentElement);XWiki.Document.currentWiki=XWiki.currentWiki||"xwiki",htmlElement.readAttribute("data-xwiki-wiki")?XWiki.Document.currentWiki=htmlElement.readAttribute("data-xwiki-wiki"):$$("meta[name=wiki]").length>0&&(XWiki.Document.currentWiki=$$("meta[name=wiki]")[0].content),XWiki.Document.currentSpace=XWiki.currentSpace||"Main",htmlElement.readAttribute("data-xwiki-space")?XWiki.Document.currentSpace=htmlElement.readAttribute("data-xwiki-space"):$$("meta[name=space]").length>0&&(XWiki.Document.currentSpace=$$("meta[name=space]")[0].content),XWiki.Document.currentPage=XWiki.currentPage||"WebHome",htmlElement.readAttribute("data-xwiki-page")?XWiki.Document.currentPage=htmlElement.readAttribute("data-xwiki-page"):$$("meta[name=page]").length>0&&(XWiki.Document.currentPage=$$("meta[name=page]")[0].content),XWiki.Document.URLTemplate="/__action__/__space__/__page__",XWiki.Document.RestURLTemplate="/rest/wikis/__wiki__/spaces/__space__/pages/__page__",XWiki.Document.WikiSearchURLStub="/rest/wikis/__wiki__/search",XWiki.Document.SpaceSearchURLStub="/rest/wikis/__wiki__/spaces/__space__/search",XWiki.Document.getRestSearchURL=function(d,c,a){a=a||XWiki.Document.currentWiki;var b;return b=c?XWiki.Document.SpaceSearchURLStub.replace("__wiki__",a).replace("__space__",c):XWiki.Document.WikiSearchURLStub.replace("__wiki__",a),d&&(b+="?"+d),b},XWiki.currentDocument=new XWiki.Document,function(){var b;if("placeholder"in document.createElement("input"))b=function(e){var d=e.memo.element;""===d.placeholder&&(d.hasClassName("useTitleAsTip")?d.placeholder=d.title:(d.placeholder=d.defaultValue,d.value=""))};else{var a=function(){var d=this.hasClassName("empty");this.removeClassName("empty"),d?this.value="":this.select()},c=function(){""==this.value&&(this.value=this.defaultValue,this.addClassName("empty"))};b=function(f){var e=f.memo.element,d=e.value;e.readAttribute("placeholder")?e.defaultValue=e.readAttribute("placeholder"):e.hasClassName("useTitleAsTip")&&(e.defaultValue=e.title),e.value=d,e.value==e.defaultValue&&e.addClassName("empty"),e.observe("focus",a.bindAsEventListener(e)),e.observe("blur",c.bindAsEventListener(e))}}document.observe("xwiki:addBehavior:withTip",b),document.observe("xwiki:dom:loaded",function(){$$("input.withTip","textarea.withTip","[placeholder]").each(function(d){document.fire("xwiki:addBehavior:withTip",{element:d})})}),document.observe("xwiki:dom:updated",function(d){d.memo.elements.each(function(e){e.select("input.withTip","textarea.withTip","[placeholder]").each(function(f){document.fire("xwiki:addBehavior:withTip",{element:f})})})})}(),document.observe("xwiki:dom:loaded",function(){var b={documents:{script:XWiki.Document.getRestSearchURL("scope=name&number=10&"),varname:"q",icon:"resources/icons/silk/page_white_text.png",noresults:"Document not found",json:!0,resultsParameter:"searchResults",resultId:"id",resultValue:"pageFullName",resultInfo:"pageFullName"},spaces:{script:XWiki.Document.getRestSearchURL("scope=spaces&number=10&"),varname:"q",icon:"resources/icons/silk/folder.png",noresults:"Space not found",json:!0,resultsParameter:"searchResults",resultId:"id",resultValue:"space",resultInfo:"space"}},a=function(f){if(void 0!==XWiki.widgets.Suggest)for(var e=Object.keys(b),d=0;d<e.length;d++){var c="input.suggest"+e[d].capitalize();f.each(function(g){$(g).select(c).each(function(i){if(!i.hasClassName("initialized")){var h={timeout:3e4};Object.extend(h,b[e[d]]);new XWiki.widgets.Suggest(i,h);i.addClassName("initialized")}})})}};a([$(document.documentElement)]),document.observe("xwiki:dom:updated",function(c){a(c.memo.elements)})}),["xwiki:dom:loaded","xwiki:dom:updated"].each(function(a){document.observe(a,function(b){void 0!==XWiki.widgets.Suggest&&(b.memo&&b.memo.elements||[document.documentElement]).each(function(d){d.select(".suggested").each(function(e){e.setAttribute("autocomplete","off"),"function"==typeof e.onfocus&&(e.onfocus(),e.removeAttribute("onfocus"))})})})}),document.observe("xwiki:dom:loaded",function(){function e(j){j&&j.stop(),b.removeClassName("active"),f.addClassName("edit-parent"),f.removeClassName("hide-edit-parent")}function i(j){j&&j.stop(),b.addClassName("active"),a.focus(),f.removeClassName("edit-parent"),f.addClassName("hide-edit-parent")}function c(j){j.stop(),j.element().blur(),f.hasClassName("edit-parent")?i():e()}var h=$("hierarchy"),d=$("breadcrumbs"),f=$("editParentTrigger"),b=$("parentinput"),a=$("xwikidocparentinput"),g=$("xwikidoctitleinput");$("hideEditParentTrigger")&&($("hideEditParentTrigger").style.display="none"),f&&f.observe("click",c),a&&((h||d)&&["blur","change","xwiki:suggest:selected"].each(function(j){a.observe(j,function(){var l={xpage:"xpart",vm:h?"hierarchy.vm":"space.vm",parent:a.value};g&&(l.title=g.value),new Ajax.Request(XWiki.currentDocument.getURL("edit"),{parameters:l,onSuccess:function(m){if(h)h.replace(m.responseText),h=$("hierarchy");else{var n=new Element("div");n.update(m.responseText),d.replace(n.down("[id=breadcrumbs]")),d=$("breadcrumbs")}}})})}),$("body").observe("click",function(j){j.element().descendantOf&&!j.element().descendantOf(b)&&j.element()!=b&&j.element()!=f&&e()}))}),document.observe("xwiki:dom:loaded",function(){function b(){var h=$$(".annotationsettings"),g=0;h&&h.size()>0&&(f.__fm_extra=h[0],e(f.__fm_extra),g=f.__fm_extra.getHeight());var m=f.getHeight(),l=d.cumulativeOffset().top-g;if(document.viewport.getScrollOffsets().top>=l){var j=d.getWidth(),i=d.cumulativeOffset().left;c(f,0,i,j),f.__fm_extra&&c(f.__fm_extra,m,i,j-f.__fm_extra.getStyle("border-left-width").replace(/[^0-9]/g,"")-f.__fm_extra.getStyle("border-right-width").replace(/[^0-9]/g,"")-f.__fm_extra.getStyle("padding-right").replace(/[^0-9]/g,"")-f.__fm_extra.getStyle("padding-left").replace(/[^0-9]/g,""))}else a(f),a(f.__fm_extra)}function e(g){void 0===g.__fm_ghost&&(g.__fm_ghost=new Element("div"),g.__fm_ghost.hide(),g.insert({after:g.__fm_ghost})),g.__fm_ghost.clonePosition(g,{setWidth:!1})}function c(g,j,i,h){g&&(g.addClassName("floating-menu"),g.style.position="fixed",g.style.top=j+"px",g.style.left=i+"px",g.style.width=h+"px",g.__fm_ghost.show())}function a(g){g&&(g.removeClassName("floating-menu"),g.style.position="",g.style.top="",g.style.left="",g.style.width="",g.__fm_ghost.hide())}if($("body").hasClassName("skin-colibri")){var f=$("contentmenu")||$("editmenu"),d=$("mainContentArea")||$("mainEditArea");f&&d&&(e(f),Event.observe(window,"resize",function(){if("fixed"==f.style.position&&(f.style.width=d.getWidth()+"px",void 0!==f.__fm_extra)){if("px"==f.__fm_extra.getStyle("padding-left").replace(/[^a-z]/g,"")){var g=f.__fm_extra.getStyle("border-left-width").replace(/[^0-9.]/g,"")-0;g+=f.__fm_extra.getStyle("padding-left").replace(/[^0-9.]/g,"")-0,g+=f.__fm_extra.getStyle("padding-right").replace(/[^0-9.]/g,"")-0,g+=f.__fm_extra.getStyle("border-right-width").replace(/[^0-9.]/g,"")-0}else g=50;f.__fm_extra.style.width=d.getWidth()-g+"px"}}),browser.isIE6x||(Event.observe(window,"scroll",b),document.observe("xwiki:annotations:settings:loaded",b)))}});var XWiki=function(b){var a=b.widgets=b.widgets||{};return a.ModalPopup=Class.create({options:{globalDialog:!0,title:"",displayCloseButton:!0,extraClassName:!1,screenColor:"",borderColor:"",titleColor:"",backgroundColor:"",screenOpacity:"0.5",verticalPosition:"center",horizontalPosition:"center",removeOnClose:!1,onClose:Prototype.emptyFunction},initialize:function(e,c,d){this.shortcuts={show:{method:this.showDialog,keys:["Ctrl+G","Meta+G"]},close:{method:this.closeDialog,keys:["Esc"]}},this.content=e||"Hello world!",this.shortcuts=Object.extend(Object.clone(this.shortcuts),c||{}),this.options=Object.extend(Object.clone(this.options),d||{}),this.registerShortcuts("show")},createDialog:function(e){this.dialog=new Element("div",{class:"xdialog-modal-container"});var d=new Element("div",{class:"xdialog-screen"}).setStyle({opacity:this.options.screenOpacity,backgroundColor:this.options.screenColor});if(this.dialog.update(d),this.dialogBox=new Element("div",{class:"xdialog-box"}),this.options.extraClassName&&this.dialogBox.addClassName(this.options.extraClassName),this.dialogBox._x_contentPlug=new Element("div",{class:"xdialog-content"}),this.dialogBox.update(this.dialogBox._x_contentPlug),this.dialogBox._x_contentPlug.update(this.content),this.options.title){var f=new Element("div",{class:"xdialog-title"}).update(this.options.title);f.setStyle({color:this.options.titleColor}),this.dialogBox.insertBefore(f,this.dialogBox.firstChild)}if(this.options.displayCloseButton){var c=new Element("div",{class:"xdialog-close",title:"Close"}).update("&#215;");c.observe("click",this.closeDialog.bindAsEventListener(this)),this.options.title?(f.insert({bottom:c}),this.options.titleColor&&c.setStyle({color:this.options.titleColor})):this.dialogBox.insertBefore(c,this.dialogBox.firstChild)}switch(this.dialog.appendChild(this.dialogBox),this.dialogBox.setStyle({textAlign:"left",borderColor:this.options.borderColor,backgroundColor:this.options.backgroundColor}),this.options.verticalPosition){case"top":this.dialogBox.setStyle({top:"0"});break;case"bottom":this.dialogBox.setStyle({bottom:"0"});break;default:this.dialogBox.setStyle({top:"20%"})}switch(this.options.horizontalPosition){case"left":this.dialog.setStyle({textAlign:"left"});break;case"right":this.dialog.setStyle({textAlign:"right"});break;default:this.dialog.setStyle({textAlign:"center"}),this.dialogBox.setStyle({margin:"auto"})}$("body").appendChild(this.dialog),this.dialog.hide()},setClass:function(c){this.dialogBox.addClassName("xdialog-box-"+c)},removeClass:function(c){this.dialogBox.removeClassName("xdialog-box-"+c)},setContent:function(c){this.content=c,this.dialogBox._x_contentPlug.update(this.content)},showDialog:function(c){if(c&&Event.stop(c),this.options.globalDialog){if(a.ModalPopup.active)return;a.ModalPopup.active=!0}else{if(this.active)return;this.active=!0}this.dialog||this.createDialog(),this.attachKeyListeners(),this.dialog.show()},closeDialog:function(c){c&&Event.stop(c),this.options.onClose.call(this),this.dialog.hide(),this.options.removeOnClose&&this.dialog.remove(),this.detachKeyListeners(),this.options.globalDialog?a.ModalPopup.active=!1:this.active=!1},attachKeyListeners:function(){for(var c in this.shortcuts)"show"!=c&&this.registerShortcuts(c)},detachKeyListeners:function(){for(var c in this.shortcuts)"show"!=c&&this.unregisterShortcuts(c)},registerShortcuts:function(f){for(var c=this.shortcuts[f].keys,g=this.shortcuts[f].method.bindAsEventListener(this,f),d=this.shortcuts[f].options,e=0;e<c.size();++e)shortcut.add(c[e],g,d)},unregisterShortcuts:function(d){for(var c=0;c<this.shortcuts[d].keys.size();++c)shortcut.remove(this.shortcuts[d].keys[c])},createButton:function(d,f,e,i,h){var g=new Element("span",{class:"buttonwrapper"}),c=new Element("input",{type:d,class:"button",value:f,title:e,id:i});return h&&c.addClassName(h),g.update(c),g}}),a.ModalPopup.active=!1,b}((XWiki=function(l){function j(E,A,B){for(var D=0;D<B.length;D++){var C=A+D;if(C>=E.length||E.charAt(C)!=B.charAt(D))return!1}return!0}function a(F,E,D){for(var C=-1;++C<F.length;)for(var B=0;B<E.length;B++)if(j(F,C,E[B])){F=F.substr(0,C)+D[B]+F.substr(C+E[B].length),C+=D[B].length-1;break}return F}var s=0;l.EntityType={WIKI:s++,SPACE:s++,DOCUMENT:s++,ATTACHMENT:s++,OBJECT:s++,OBJECT_PROPERTY:s++,CLASS_PROPERTY:s++};var d=[];for(var q in l.EntityType)if(l.EntityType.hasOwnProperty(q)){for(var f=l.EntityType[q],p=q.toLowerCase().split("_"),u=1;u<p.length;u++)p[u]=p[u].substr(0,1).toUpperCase()+p[u].substr(1);d[f]=p.join("")}l.EntityType.getName=function(i){return d[i]},l.EntityType.byName=function(A){for(var i=0;i<d.length;i++)if(d[i]===A)return i;return-1},l.EntityReference=Class.create({initialize:function(i,B,A){this.name=i,this.type=B,this.parent=A},extractReference:function(A){for(var i=this;i&&i.type!=A;)i=i.parent;return i},extractReferenceValue:function(A){var i=this.extractReference(A);return i?i.name:null},relativeTo:function(C){for(var B=this._extractComponents().reverse(),D=C?C._extractComponents().reverse():[];B.length>0&&D.length>0&&B[0].type!=D[0].type;)B[0].type>D[0].type?D.shift():B.shift();for(;B.length>0&&D.length>0&&B[0].type==D[0].type&&B[0].name==D[0].name;)B.shift(),D.shift();if(0==B.length)return new l.EntityReference("",this.type);B=B.reverse();for(var A=0;A<B.length;A++)B[A]=new l.EntityReference(B[A].name,B[A].type),A>0&&(B[A-1].parent=B[A]);return B[0]},_extractComponents:function(){for(var A=[],i=this;i;)A.push(i),i=i.parent;return A}}),l.WikiReference=Class.create(l.EntityReference,{initialize:function($super,i){$super(i,l.EntityType.WIKI)}}),l.SpaceReference=Class.create(l.EntityReference,{initialize:function($super,A,i){$super(i,l.EntityType.SPACE,new l.WikiReference(A))}}),l.DocumentReference=Class.create(l.EntityReference,{initialize:function($super,B,A,i){$super(i,l.EntityType.DOCUMENT,new l.SpaceReference(B,A))}}),l.AttachmentReference=Class.create(l.EntityReference,{initialize:function($super,A,i){$super(A,l.EntityType.ATTACHMENT,i)}});var r="\\",k=r+r,m=":",x=".",b="^",n=[[],[x,m,r],[x,r],["@",r],[b,r],[".",r],["^",x,r]],t=[[],[r+x,r+m,k],[r+x,k],["\\@",k],[r+b,k],["\\.",k],["\\^",r+x,k]],v=[[],[m],[x,m],["@",x,m],[b,x,m],[".",b,x,m],["^",x,m]],c=[[l.EntityType.WIKI],[l.EntityType.SPACE,l.EntityType.WIKI],[l.EntityType.DOCUMENT,l.EntityType.SPACE,l.EntityType.WIKI],[l.EntityType.ATTACHMENT,l.EntityType.DOCUMENT,l.EntityType.SPACE,l.EntityType.WIKI],[l.EntityType.OBJECT,l.EntityType.DOCUMENT,l.EntityType.SPACE,l.EntityType.WIKI],[l.EntityType.OBJECT_PROPERTY,l.EntityType.OBJECT,l.EntityType.DOCUMENT,l.EntityType.SPACE,l.EntityType.WIKI],[l.EntityType.CLASS_PROPERTY,l.EntityType.DOCUMENT,l.EntityType.SPACE,l.EntityType.WIKI]],z=[k,r],e=[r,""];l.EntityReferenceResolver=Class.create({resolve:function(C,F){if(C=C||"",F=parseInt(F),isNaN(F)||F<0||F>=v.length)throw"No parsing definition found for Entity Type ["+F+"]";for(var D,B=v[F],H=c[F],G=0;G<B.length&&null!=C;G++){var E=this._splitAndUnescape(C,B[G]);C=E[0];I=new l.EntityReference(E[1],H[G]);D=this._appendParent(D,I)}if(null!=C){var A=a(C,z,e),I=new l.EntityReference(A,H[B.length]);D=this._appendParent(D,I)}return D},_appendParent:function(i,B){if(i){for(var A=i;A.parent;)A=A.parent;return A.parent=B,i}return B},_splitAndUnescape:function(D,G){for(var C=[],E=D.length;--E>=0;){var B=D.charAt(E),A=E-1,H=0;if(A>=0&&(H=D.charAt(A)),B==G){if(this._getNumberOfCharsBefore(r,D,A)%2==0)break;--E}else H==r&&--E;C.push(B)}return[E<0?null:D.substring(0,E),C.reverse().join("")]},_getNumberOfCharsBefore:function(C,A,B){for(var i=B;i>=0&&A.charAt(i)==C;)--i;return B-i}}),l.EntityReferenceSerializer=Class.create({serialize:function(i){return i?this.serialize(i.parent)+this._serializeComponent(i):""},_serializeComponent:function(B){var i="",A=n[B.type];return B.parent&&(i+=B.parent.type==l.EntityType.WIKI?m:A[0]),A.length>0?i+=a(B.name,A,t[B.type]):i+=B.name.replace(r,k),i}});var g=new l.EntityReferenceResolver,w=new l.EntityReferenceSerializer;return l.Model={serialize:function(i){return w.serialize(i)},resolve:function(i,A){return g.resolve(i,A)}},l}(XWiki||{}))||{});void 0===(XWiki=function(c){function b(){return new a.JumpToPage}var a=c.widgets=c.widgets||{};return c.widgets.ModalPopup?(a.JumpToPage=Class.create(a.ModalPopup,{urlTemplate:"/__action__/__space__/__document__",initialize:function($super){var e=new Element("div");this.input=new Element("input",{type:"text",id:"jmp_target",title:"Space.Document"}),e.appendChild(this.input),this.viewButton=this.createButton("button","View","View document (Enter, Meta+V)","jmp_view"),this.editButton=this.createButton("button","Edit","Edit document in the default editor (Meta+E)","jmp_edit");var d=new Element("div",{class:"buttons"});d.appendChild(this.viewButton),d.appendChild(this.editButton),e.appendChild(d),$super(e,{show:{method:this.showDialog,keys:["Meta+G","Ctrl+G","Ctrl+/","Meta+/"]},view:{method:this.openDocument,keys:["Enter","Meta+V"],options:{propagate:!0}},edit:{method:this.openDocument,keys:["Meta+E"]}},{title:"Go to:",extraClassName:"jump-dialog",verticalPosition:"top"}),this.shortcuts.close.options={propagate:!0},this.addQuickLinksEntry()},createDialog:function($super,d){Event.observe(this.viewButton,"click",this.openDocument.bindAsEventListener(this,"view")),Event.observe(this.editButton,"click",this.openDocument.bindAsEventListener(this,"edit")),$super(d),void 0!==c.widgets.Suggest&&new c.widgets.Suggest(this.input,{script:"/rest/wikis/xwiki/search?scope=name&number=10&",varname:"q",noresults:"No documents found",icon:"resources/icons/silk/page_white_text.png",json:!0,resultsParameter:"searchResults",resultId:"id",resultValue:"pageFullName",resultInfo:"pageFullName",timeout:3e4,parentContainer:this.dialogBox,propagateEventKeyCodes:[Event.KEY_RETURN]})},showDialog:function($super){$super(),this.input.value="",this.input.focus()},closeDialog:function($super,d){d.type.startsWith("key")&&this.dialogBox.down(".ajaxsuggest")||($super(),this.input.__x_suggest.clearSuggestions())},openDocument:function(e,f){var g=this.dialogBox.down(".ajaxsuggest .xhighlight");if((!g||g.hasClassName("noSuggestion"))&&""!=this.input.value){Event.stop(e);var d=c.Model.resolve(this.input.value,c.EntityType.DOCUMENT);d.parent?window.self.location=this.urlTemplate.replace("__space__",d.parent.name).replace("__document__",d.name).replace("__action__",f):void 0!==c.widgets.Suggest&&new c.widgets.Notification("Invalid page name. Valid names have the following format: Space.Page","error")}},addQuickLinksEntry:function(){$$(".panel.QuickLinks .xwikipanelcontents").each(function(e){var d=new Element("span",{class:"jmp-activator"});d.update("Jump to any page in the wiki (Meta+G)"),Event.observe(d,"click",function(f){this.showDialog(f)}.bindAsEventListener(this)),e.appendChild(d)}.bind(this))}}),c.domIsLoaded&&b()||document.observe("xwiki:dom:loaded",b)):console&&console.warn&&console.warn("[JumpToPage widget] Required class missing: XWiki.widgets.ModalPopup"),c}(XWiki||{}))||void 0===XWiki.widgets||void 0===XWiki.widgets.ModalPopup?"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[ConfirmationBox widget] Required class missing: XWiki.widgets.ModalPopup"):XWiki.widgets.ConfirmationBox=Class.create(XWiki.widgets.ModalPopup,{defaultInteractionParameters:{confirmationText:"Are you sure?",yesButtonText:"Yes",noButtonText:"No",cancelButtonText:"Cancel",showCancelButton:!1},initialize:function($super,b,c){this.interactionParameters=Object.extend(Object.clone(this.defaultInteractionParameters),c||{});var a={show:{method:this.showDialog,keys:[]},yes:{method:this.onYes,keys:["Enter","Space","y"]},no:{method:this.onNo,keys:["n"]},close:{method:this.closeDialog,keys:["c"]}};this.interactionParameters.showCancelButton?a.close.keys.push("Esc"):a.no.keys.push("Esc"),$super(this.createContent(this.interactionParameters),a,{displayCloseButton:!1,removeOnClose:!0}),this.showDialog(),this.setClass("confirmation"),this.behavior=b||{}},createContent:function(e){var b=new Element("div",{class:"question"}).update(e.confirmationText),d=new Element("div",{class:"buttons"}),f=this.createButton("button",e.yesButtonText,"(Enter)","");Event.observe(f,"click",this.onYes.bindAsEventListener(this)),d.insert(f);var a=this.createButton("button",e.noButtonText,e.showCancelButton?"(n)":"(Esc)","","secondary");if(Event.observe(a,"click",this.onNo.bindAsEventListener(this)),d.insert(a),e.showCancelButton){var g=this.createButton("button",e.cancelButtonText,"(Esc)","","cancel secondary");Event.observe(g,"click",this.onCancel.bindAsEventListener(this)),d.insert(g)}var c=new Element("div");return c.insert(b).insert(d),c},onYes:function(){this.closeDialog(),"function"==typeof this.behavior.onYes&&this.behavior.onYes()},onNo:function(){this.closeDialog(),"function"==typeof this.behavior.onNo&&this.behavior.onNo()},onCancel:function(){this.closeDialog(),"function"==typeof this.behavior.onCancel&&this.behavior.onCancel()}}),void 0===XWiki||void 0===XWiki.widgets||void 0===XWiki.widgets.ConfirmationBox?"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[MessageBox widget] Required class missing: XWiki.widgets.ModalPopup"):XWiki.widgets.ConfirmedAjaxRequest=Class.create(XWiki.widgets.ConfirmationBox,{defaultAjaxRequestParameters:{on1223:function(a){a.request.options.onSuccess(a)},on0:function(a){a.request.options.onFailure(a)}},initialize:function($super,b,a,c){this.interactionParameters=Object.extend({displayProgressMessage:!0,progressMessageText:"Sending request...",displaySuccessMessage:!0,successMessageText:"Done!",displayFailureMessage:!0,failureMessageText:"Failed: "},c||{}),this.requestUrl=b,this.ajaxRequestParameters=Object.extend(Object.clone(this.defaultAjaxRequestParameters),a||{}),Object.extend(this.ajaxRequestParameters,{onSuccess:function(){this.interactionParameters.displaySuccessMessage?this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done")):new XWiki.widgets.Notification(this.interactionParameters.successMessageText,"done"):this.progressNotification&&this.progressNotification.hide(),a.onSuccess&&a.onSuccess.apply(this,arguments)}.bind(this),onFailure:function(d){if(this.interactionParameters.displayFailureMessage){var e=d.statusText;""!=d.statusText&&12031!=d.status||(e="Server not responding"),this.progressNotification?this.progressNotification.replace(new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+e,"error")):new XWiki.widgets.Notification(this.interactionParameters.failureMessageText+e,"error")}else this.progressNotification&&this.progressNotification.hide();a.onFailure&&a.onFailure.apply(this,arguments)}.bind(this)}),$super({onYes:function(){this.interactionParameters.displayProgressMessage&&(this.progressNotification=new XWiki.widgets.Notification(this.interactionParameters.progressMessageText,"inprogress")),new Ajax.Request(this.requestUrl,this.ajaxRequestParameters)}.bind(this)},this.interactionParameters)}});var XWiki=function(b){var a=b.widgets=b.widgets||{};return a.Notification=Class.create({text:"Hello world!",defaultOptions:{plain:{timeout:5},info:{timeout:5},warning:{timeout:5},error:{timeout:10},inprogress:{timeout:!1},done:{timeout:2}},initialize:function(e,d,c){this.text=e||this.text,this.type=void 0!==this.defaultOptions[d]?d:"plain",this.options=Object.extend(Object.clone(this.defaultOptions[this.type]),c||{}),this.createElement(),this.options.inactive||this.show()},createElement:function(){this.element||(this.element=new Element("div",{class:"xnotification xnotification-"+this.type}).update(this.text),this.options.icon&&this.element.setStyle({backgroundImage:this.options.icon,paddingLeft:"22px"}),this.options.backgroundColor&&this.element.setStyle({backgroundColor:this.options.backgroundColor}),this.options.color&&this.element.setStyle({color:this.options.color}),this.element=this.element.wrap(new Element("div",{class:"xnotification-wrapper"})),Event.observe(this.element,"click",this.hide.bindAsEventListener(this)))},show:function(){this.element.descendantOf(a.Notification.getContainer())||a.Notification.getContainer().insert({top:this.element}),this.element.show(),this.options.timeout&&(this.timer=window.setTimeout(this.hide.bind(this),1e3*this.options.timeout))},hide:function(){this.element.hide(),this.element.parentNode&&this.element.remove(),this.timer&&(window.clearTimeout(this.timer),this.timer=null),"function"==typeof this.options.onHide&&this.options.onHide()},replace:function(c){this.element.parentNode&&this.element.replace(c.element),this.timer&&(window.clearTimeout(this.timer),this.timer=null),c.show()}}),a.Notification.container=null,a.Notification.getContainer=function(){return a.Notification.container||(a.Notification.container=new Element("div",{class:"xnotification-container"}),$("body").insert(a.Notification.container)),a.Notification.container},b}(XWiki||{}),XWiki=function(b){var a=b.widgets=b.widgets||{};return void 0===a.XList?"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn("[Suggest widget] Required class missing: XWiki.widgets.XList"):a.Suggest=Class.create({options:{minchars:1,method:"get",varname:"input",className:"ajaxsuggest",timeout:2500,delay:500,offsety:0,shownoresults:!0,noresults:"No results!",maxheight:250,cache:!1,seps:"",icon:null,resultsParameter:"results",resultId:"id",resultValue:"value",resultInfo:"info",resultIcon:"icon",resultHint:"hint",resultType:"type",parentContainer:"body",highlight:!0,fadeOnClear:!0,hideButton:{positions:["top"],text:"hide suggestions"},insertBeforeSuggestions:null,displayValue:!1,displayValueText:"Value: ",align:"left",unifiedLoader:!1,loaderNode:null,propagateEventKeyCodes:[]},sInput:"",nInputChars:0,aSuggestions:{},iHighlighted:null,isActive:!1,initialize:function(c,d){if(!c)return!1;this.setInputField(c),this.options=Object.extend(Object.clone(this.options),d||{}),"object"==typeof this.options.sources?(this.isInMultiSourceMode=!0,this.sources=this.options.sources):this.sources=this.options,this.sources=[this.sources].flatten().compact(),0==this.sources.length&&this.sources.push({script:function(e,f){f([])}}),$(this.options.parentContainer)||(this.options.parentContainer=$(document.body)),this.options.seps?this.seps=this.options.seps:this.seps="",this.latestRequest=0},setInputField:function(c){this.detach(),this.fld=$(c),this.fld.__x_suggest&&this.fld.__x_suggest.detach(),this.fld.__x_suggest=this,this.onKeyUp=this.onKeyUp.bindAsEventListener(this),this.fld.observe("keyup",this.onKeyUp),this.onKeyPress=this.onKeyPress.bindAsEventListener(this),Prototype.Browser.IE||Prototype.Browser.WebKit||browser.isIE11up?this.fld.observe("keydown",this.onKeyPress):this.fld.observe("keypress",this.onKeyPress),this.fld.setAttribute("autocomplete","off"),this.fld.observe("blur",function(d){this.latestRequest++}.bind(this))},onKeyUp:function(f){switch(f.keyCode){case Event.KEY_RETURN:case Event.KEY_ESC:case Event.KEY_UP:case Event.KEY_DOWN:break;default:if(this.seps){for(var e=-1,c=0;c<this.seps.length;c++)this.fld.value.lastIndexOf(this.seps.charAt(c))>e&&(e=this.fld.value.lastIndexOf(this.seps.charAt(c)));-1==e?this.getSuggestions(this.fld.value):this.getSuggestions(this.fld.value.substring(e+1))}else this.getSuggestions(this.fld.value)}},onKeyPress:function(d){if($(this.isActive)){var c=d.keyCode,e=!0;switch(c){case Event.KEY_RETURN:this.iHighlighted||1!=Object.keys(this.aSuggestions).length||1!=this.aSuggestions[Object.keys(this.aSuggestions)[0]].length||this.highlightFirst(),this.setHighlightedValue(d);break;case Event.KEY_ESC:this.clearSuggestions();break;case Event.KEY_UP:case Event.KEY_DOWN:this.changeHighlight(c);break;default:e=!1}e&&this.options.propagateEventKeyCodes&&-1==this.options.propagateEventKeyCodes.indexOf(c)&&Event.stop(d)}},getSuggestions:function(g){if((g=g.strip().toLowerCase())==this.sInput)return!1;if(g.length<this.options.minchars)return this.sInput="",this.clearSuggestions(),!1;if(g.length>this.nInputChars&&Object.keys(this.aSuggestions).length&&this.options.cache){for(var m={},l=0;l<Object.keys(this.aSuggestions).length;l++){for(var o=Object.keys(this.aSuggestions)[l],h=[],k=0;k<this.aSuggestions[o].length;k++){var e=this.aSuggestions[o][k];e.value.substr(0,g.length).toLowerCase()==g&&h.push(e)}h.length&&(m[o]=n)}this.sInput=g,this.nInputChars=g.length,this.aSuggestions=m;for(l=0;l<sources.length;l++){var d=sources[l],n=this.aSuggestions[d.id];n&&this.createList(n,d)}return!1}this.sInput=g,this.nInputChars=g.length,this.prepareContainer();var c=this,f=++this.latestRequest;return clearTimeout(this.ajID),this.container.select(".hide-button-wrapper").invoke("hide"),this.ajID=setTimeout(function(){c.doAjaxRequests(f)},this.options.delay),!1},doAjaxRequests:function(f,d){if(!(this.fld.value.length<this.options.minchars))for(var c=0;c<this.sources.length;c++){var e=this.sources[c];"function"==typeof e.script?(this.fld.addClassName("loading"),e.script(this.fld.value.strip(),function(g){f==this.latestRequest&&(this.aSuggestions[e.id]=g||[],g&&this.createList(this.aSuggestions[e.id],e),this.fld.removeClassName("loading"))}.bind(this))):this.doAjaxRequest(e,f,d)}},doAjaxRequest:function(f,g,e){var d=f.script+(f.script.indexOf("?")<0?"?":"&")+f.varname+"="+encodeURIComponent(this.fld.value.strip()),i=f.method||"get",h={};f.json?h.Accept="application/json":h.Accept="application/xml";var c={method:i,requestHeaders:h,onCreate:this.fld.addClassName.bind(this.fld,"loading"),onSuccess:this.setSuggestions.bindAsEventListener(this,f,g),onFailure:function(j){new b.widgets.Notification("Failed to retrieve suggestions: "+j.statusText,"error",{timeout:5})},onComplete:this.fld.removeClassName.bind(this.fld,"loading")};c.defaultValues=Object.clone(c),new Ajax.Request(d,Object.extend(c,e||{}))},setSuggestions:function(d,e,f){if(!(f<this.latestRequest)){var c=this.parseResponse(d,e);this.aSuggestions[e.id]=c||[],c&&this.createList(this.aSuggestions[e.id],e)}},_getNestedProperty:function(e,d){for(var c=d.split(".");c.length&&(e=e[c.shift()]););return c.length>0?null:e},parseResponse:function(h,j){var d=[];if(j.json){var k=h.responseJSON;if(!k)return null;if(Object.isArray(k))g=k;else g=this._getNestedProperty(k,j.resultsParameter||this.options.resultsParameter);for(f=0;f<g.length;f++){var c=g[f];d.push({id:this._getNestedProperty(c,j.resultId||this.options.resultId),value:this._getNestedProperty(c,j.resultValue||this.options.resultValue),info:this._getNestedProperty(c,j.resultInfo||this.options.resultInfo),icon:this._getNestedProperty(c,j.resultIcon||this.options.resultIcon),hint:this._getNestedProperty(c,j.resultHint||this.options.resultHint),type:this._getNestedProperty(c,j.resultType||this.options.resultType)})}}else for(var g=h.responseXML.getElementsByTagName(j.resultsParameter||this.options.resultsParameter)[0].childNodes,f=0;f<g.length;f++)g[f].hasChildNodes()&&d.push({id:g[f].getAttribute("id"),value:g[f].childNodes[0].nodeValue,info:g[f].getAttribute("info"),icon:g[f].getAttribute("icon"),hint:g[f].getAttribute("hint"),type:g[f].getAttribute("type")});return d},prepareContainer:function(){if(!$(this.options.parentContainer).down(".suggestItems")){var m=new Element("div",{class:"suggestItems "+this.options.className}),g="body"==$(this.options.parentContainer).tagName.toLowerCase()?this.fld.cumulativeOffset():this.fld.positionedOffset(),j=this.fld.offsetWidth-2,l=this.options.width||j,c=this.fld.viewportOffset().left,e=$("body").getWidth();"left"==this.options.align||"auto"==this.options.align&&c+this.options.width<e?m.style.left=g.left+"px":"center"==this.options.align?m.style.left=g.left+(j-l)/2+"px":m.style.left=g.left+j-l+"px",m.style.top=g.top+this.fld.offsetHeight+this.options.offsety+"px",m.style[this.options.width?"width":"minWidth"]=l+"px";var p=this;m.onmouseover=function(){p.killTimeout()},m.onmouseout=function(){p.resetTimeout()},this.resultContainer=new Element("div",{class:"resultContainer"}),m.appendChild(this.resultContainer),$(this.options.parentContainer).insert(m),this.container=m,this.options.insertBeforeSuggestions&&this.resultContainer.insert(this.options.insertBeforeSuggestions),document.fire("xwiki:suggest:containerCreated",{container:this.container,suggest:this})}if(this.isInMultiSourceMode)for(r=0;r<this.sources.length;r++){var o=this.sources[r];if(o.id=o.id||r,this.resultContainer.down(".results"+o.id))this.resultContainer.down(".results"+o.id).down("ul")&&this.resultContainer.down(".results"+o.id).down("ul").remove(),this.options.unifiedLoader?((this.options.loaderNode||this.fld).addClassName("loading"),this.resultContainer.down(".results"+o.id).addClassName("hidden").addClassName("loading")):this.resultContainer.down(".results"+o.id).down(".sourceContent").addClassName("loading");else{var f=new Element("div",{class:"results results"+o.id}),h=new Element("div",{class:"sourceName"});if(this.options.unifiedLoader&&f.addClassName("hidden").addClassName("loading"),void 0!==o.icon){var d=new Image;d.onload=function(){this.sourceHeader.setStyle({backgroundImage:"url("+this.iconImage.src+")"}),this.sourceHeader.setStyle({textIndent:this.iconImage.width+6+"px"})}.bind({sourceHeader:h,iconImage:d}),d.src=o.icon}h.insert(o.name),f.insert(h);var t="sourceContent "+(this.options.unifiedLoader?"":"loading");f.insert(new Element("div",{class:t})),void 0!==o.before&&this.resultContainer.insert(o.before),this.resultContainer.insert(f),void 0!==o.after&&this.resultContainer.insert(o.after)}}else this.resultContainer.down("ul")&&this.resultContainer.down("ul").remove();if(void 0!==this.options.hideButton&&"object"==typeof this.options.hideButton.positions&&this.options.hideButton.positions.length>0&&!this.container.down(".hide-button"))for(var k=this.options.hideButton.positions,r=0;r<k.length;r++){var u=new Element("span",{class:"hide-button"}).update(this.options.hideButton.text),q={};q[k[r]]=new Element("div",{class:"hide-button-wrapper"}).update(u),u.observe("click",this.clearSuggestions.bindAsEventListener(this)),this.container.insert(q)}this.container.fire("xwiki:suggest:containerPrepared",{container:this.container,suggest:this});return this.container},createList:function(c,d){this._createList(c,d),this.isInMultiSourceMode&&this.resultContainer.down(".results.loading")||document.fire("xwiki:suggest:updated",{container:this.container,suggest:this})},_createList:function(f,d){this.isActive=!0;c=this;if(this.killTimeout(),this.isInMultiSourceMode)(j=this.resultContainer.down(".results"+d.id)).removeClassName("loading"),j.down(".sourceContent").removeClassName("loading"),(f.length>0||this.options.shownoresults)&&j.removeClassName("hidden"),this.options.unifiedLoader&&!this.resultContainer.down(".results.loading")&&(this.options.loaderNode||this.fld).removeClassName("loading");else var j=this.resultContainer;if(0==f.length&&!this.options.shownoresults)return!1;j.down("ul")&&j.down("ul").remove(),this.container.select(".hide-button-wrapper").invoke("show");for(var h=new b.widgets.XList([],{icon:this.options.icon,classes:"suggestList",eventListeners:{click:function(i){return c.setHighlightedValue(i),!1},mouseover:function(){c.setHighlight(this.getElement())}}}),e=0,g=f.length;e<g;e++){var m=function(i){return((i||"")+"").escapeHTML()},k=new Element("div").insert(new Element("span",{class:"suggestId"}).update(m(f[e].id))).insert(new Element("span",{class:"suggestValue"}).update(m(f[e].value))).insert(new Element("span",{class:"suggestInfo"}).update(m(f[e].info))),l=new b.widgets.XListItem(this.createItemDisplay(f[e],d),{containerClasses:"suggestItem "+(f[e].type||""),value:k,noHighlight:!0});h.addItem(l)}0==f.length&&h.addItem(new b.widgets.XListItem(this.options.noresults,{classes:"noSuggestion",noHighlight:!0})),j.appendChild(h.getElement()),this.suggest=j;var c=this;this.options.timeout>0&&(this.toID=setTimeout(function(){c.clearSuggestions()},this.options.timeout))},createItemDisplay:function(g,c){var h=this.sInput?this.sInput.escapeHTML():this.sInput,k=((g.value||"")+"").escapeHTML(),e=c.highlight?this.emphasizeMatches(h,k):k;if(g.hint&&(e+="<span class='hint'>"+(g.hint+"").escapeHTML()+"</span>"),this.options.displayValue)var i=((g.info||"")+"").escapeHTML(),j=new Element("div").insert(new Element("div",{class:"value"}).update(e)).insert(new Element("div",{class:"info"}).update("<span class='legend'>"+this.options.displayValueText+"</span>"+i));else j=new Element("span",{class:"info"}).update(e);if(g.icon){if(g.icon.indexOf(".")>=0||g.icon.indexOf("/")>=0)f=new Element("img",{src:g.icon,class:"icon"});else var f=new Element("i",{class:"icon "+g.icon});j.insert({top:f})}return j},emphasizeMatches:function(k,m){if(!k)return m;for(var c=m,i=k.split(" ").uniq().compact(),d=0,g={},e=0,n=i.length;e<n;e++)for(var h=c.toLowerCase().indexOf(i[e].toLowerCase());h>=0;){var f=c.substring(h,h+i[e].length),l="";i[e].length.times(function(){l+=" "}),g[h]=f,h=(c=c.substring(0,h)+l+c.substring(h+i[e].length)).toLowerCase().indexOf(i[e].toLowerCase())}return Object.keys(g).sortBy(function(j){return parseInt(j)}).each(function(j){var o=c.substring(0,parseInt(j)+d),p=c.substring(parseInt(j)+g[j].length+d);c=o+"<em>"+g[j]+"</em>"+p,d+=9}),c},changeHighlight:function(c){var f=this.resultContainer;if(!f)return!1;var d;if(this.iHighlighted){if(c==Event.KEY_DOWN){if(!(d=this.iHighlighted.next())&&this.iHighlighted.up("div.results"))for(e=this.iHighlighted.up("div.results").next();e&&!d;)d=e.down("li"),e=e.next();d||(d=f.down("li"))}else if(c==Event.KEY_UP){if(!(d=this.iHighlighted.previous())&&this.iHighlighted.up("div.results"))for(var e=this.iHighlighted.up("div.results").previous();e&&!d;)d=e.down("li:last-child"),e=e.previous();d||(d=f.select("ul")[f.select("ul").length-1].down("li:last-child"))}}else c==Event.KEY_DOWN?d=f.down("div.results")?f.down("div.results").down("li"):f.down("li"):c==Event.KEY_UP&&f.select("li")>0&&(d=f.select("li")[f.select("li").length-1]);d&&this.setHighlight(d)},setHighlight:function(c){this.iHighlighted&&this.clearHighlight(),c.addClassName("xhighlight"),this.iHighlighted=c,this.killTimeout()},clearHighlight:function(){this.iHighlighted&&(this.iHighlighted.removeClassName("xhighlight"),delete this.iHighlighted)},highlightFirst:function(){if(this.suggest&&this.suggest.down("ul")){var c=this.suggest.down("ul").down("li");c&&this.setHighlight(c)}},hasActiveSelection:function(){return this.iHighlighted},setHighlightedValue:function(c){if(this.iHighlighted&&!this.iHighlighted.hasClassName("noSuggestion")){var k,l,m=function(i){return i.textContent||i.innerText},j=this.iHighlighted.down("img.icon"),f={suggest:this,id:m(this.iHighlighted.down(".suggestId")),value:m(this.iHighlighted.down(".suggestValue")),info:m(this.iHighlighted.down(".suggestInfo")),icon:j?j.src:"",originalEvent:c};if(""==this.sInput&&""==this.fld.value)k=l=f.value;else if(this.seps){for(var d=-1,g=0;g<this.seps.length;g++)this.fld.value.lastIndexOf(this.seps.charAt(g))>d&&(d=this.fld.value.lastIndexOf(this.seps.charAt(g)));k=-1==d?l=f.value:(l=this.fld.value.substring(0,d+1)+f.value).substring(d+1)}else k=l=f.value;if(!(c=Event.fire(this.fld,"xwiki:suggest:selected",Object.clone(f))).stopped&&(this.sInput=k,this.fld.value=l,this.fld.focus(),this.clearSuggestions(),"function"==typeof this.options.callback&&this.options.callback(Object.clone(f)),this.fld.id.indexOf("_suggest")>0)){var e=this.fld.id.substring(0,this.fld.id.indexOf("_suggest")),h=$(e);h&&(h.value=f.info)}}},killTimeout:function(){clearTimeout(this.toID)},resetTimeout:function(){clearTimeout(this.toID);var c=this;this.toID=setTimeout(function(){c.clearSuggestions()},1e3)},clearSuggestions:function(){this.clearHighlight(),this.killTimeout(),this.isActive=!1;var c=$(this.container),e=this;if(c&&c.parentNode){if(this.options.fadeOnClear)new Effect.Fade(c,{duration:"0.25",afterFinish:function(){$(e.container)&&$(e.container).remove()}});else $(this.container).remove();document.fire("xwiki:suggest:clearSuggestions",{suggest:this})}},detach:function(){this.fld&&(Event.stopObserving(this.fld,"keyup",this.onKeyUp),Prototype.Browser.IE||Prototype.Browser.WebKit?Event.stopObserving(this.fld,"keydown",this.onKeyPress):Event.stopObserving(this.fld,"keypress",this.onKeyPress),this.clearSuggestions(),this.fld.__x_suggest=null,this.fld.setAttribute("autocomplete","on"))}}),b}((XWiki=function(b){var a=b.widgets=b.widgets||{};return a.XList=Class.create({initialize:function(c,d){if(this.items=c||[],this.options=d||{},this.listElement=new Element(this.options.ordered?"ol":"ul",{class:"xlist"+(this.options.classes?" "+this.options.classes:"")}),this.items&&this.items.length>0)for(var e=0;e<this.items.length;e++)this.addItem(this.items[e])},addItem:function(c){c&&c instanceof b.widgets.XListItem||(c=new b.widgets.XListItem(c));var d=c.getElement();this.options.itemClasses&&!this.options.itemClasses.blank()&&d.addClassName(this.options.itemClasses),this.listElement.insert(d),"object"==typeof this.options.eventListeners&&c.bindEventListeners(this.options.eventListeners),this.options.icon&&!this.options.icon.blank()&&c.setIcon(this.options.icon,this.options.overrideItemIcon),c.list=this},getElement:function(){return this.listElement}}),a.XListItem=Class.create({initialize:function(e,c){this.options=c||{};var d="xitem "+(this.options.noHighlight?"":"xhighlight ");d+=this.options.classes?this.options.classes:"",this.containerElement=new Element("div",{class:"xitemcontainer"}).insert(e||""),this.containerElement.addClassName(this.options.containerClasses||""),this.containerElement.setStyle({textIndent:"0px"}),this.options.value&&this.containerElement.insert(new Element("div",{class:"hidden value"}).insert(this.options.value)),this.listItemElement=new Element("li",{class:d}).update(this.containerElement),this.options.icon&&!this.options.icon.blank()&&(this.setIcon(this.options.icon),this.hasIcon=!0),"object"==typeof this.options.eventListeners&&this.bindEventListeners(this.options.eventListeners)},getElement:function(){return this.listItemElement},setIcon:function(d,c){this.hasIcon&&!c||(this.iconImage=new Image,this.iconImage.onload=function(){this.listItemElement.setStyle({backgroundImage:"url("+this.iconImage.src+")",backgroundRepeat:"no-repeat",backgroundPosition:"3px 3px"}),this.listItemElement.down(".xitemcontainer").setStyle({textIndent:this.iconImage.width+6+"px"})}.bind(this),this.iconImage.src=d)},bindEventListeners:function(e){for(var d=Object.keys(e),c=0;c<d.length;c++)this.listItemElement.observe(d[c],e[d[c]].bindAsEventListener(this.options.eventCallbackScope?this.options.eventCallbackScope:this))}}),b}(XWiki||{}))||{});